<div class="ui-s600">
    <ui-card class="elevate-on-toolbar">
        <ui-toolbar class="flat">
            <button class="ui-button flat icon" uiRipple (click)="router.navigate(['professor'])">
                <i class="material-icons">arrow_back</i>
            </button>
            <span class="title">{{addingNew ? 'Novo professor' : 'Alterando ' + (info.nome || 'professor')}}</span>
            <div class="align-right">
                <button *ngIf="!addingNew" class="ui-button flat icon" type="button" uiRipple [uiMenuTrigger]="menuDelete" align="right">
                    <i class="material-icons">delete</i>
                </button>
            </div>
        </ui-toolbar>

        <ui-card-content>
            <form #formProfessor="ngForm" class="ui-validate on-dirty on-submit" (submit)="onSubmit(formProfessor)">
                <div class="ui-flex-container breake-on-s600">
                    <ui-input-container>
                        <input #campoCodigo="ngModel" type="text" [(ngModel)]="info.codigo" name="campoCodigo" uiInput required uiMaskInteger>
                        <label>Código</label>
                        <div class="ui-messages">
                            <div *ngIf="campoCodigo.errors && campoCodigo.dirty">
                                <div class="ui-message error" [hidden]="!campoCodigo.pristine && !campoCodigo.errors.required">Código é obrigatório
                                </div>
                                <div class="ui-message error" [hidden]="!campoCodigo.errors.parse">Informe um código válido
                                </div>
                            </div>
                        </div>
                    </ui-input-container>

                    <ui-input-container>
                        <input #campoCpf="ngModel" type="text" [(ngModel)]="info.cpf" name="campoCpf" uiInput required uiMaskCpf>
                        <label>CPF</label>
                        <div class="ui-messages">
                            <div *ngIf="campoCpf.errors && campoCpf.dirty">
                                <div class="ui-message error" [hidden]="!campoCpf.pristine && !campoCpf.errors.required">CPF é obrigatório
                                </div>
                                <div class="ui-message error" [hidden]="!campoCpf.errors.parse">Informe um CPF válido
                                </div>
                            </div>
                        </div>
                    </ui-input-container>
                </div>

                <ui-input-container>
                    <input #campoNome="ngModel" type="text" [(ngModel)]="info.nome" name="campoNome" uiInput required uiMaxlength="70">
                    <label>Nome</label>
                    <div class="ui-messages">
                        <div *ngIf="campoNome.errors && campoNome.dirty">
                            <div class="ui-message error" [hidden]="!campoNome.pristine && !campoNome.errors.required">Nome é obrigatório
                            </div>
                            <div class="ui-message error" [hidden]="!campoNome.errors.uiMaxlength">Nome não pode conter mais de 70 caracteres.
                            </div>
                        </div>
                        <div class="ui-message counter" [ngClass]="{'error': info.nome && info.nome.length > 70}">
                            {{info.nome ? info.nome.length : 0}}/70
                        </div>
                    </div>
                </ui-input-container>

                <ui-input-container>
                    <input #campoEmail="ngModel" type="text" [(ngModel)]="info.email" name="campoEmail" uiInput required uiMaxlength="252">
                    <label>Email</label>
                    <div class="ui-messages">
                        <div *ngIf="campoEmail.errors && campoEmail.dirty">
                            <div class="ui-message error" [hidden]="!campoEmail.pristine && !campoEmail.errors.required">Email é obrigatório
                            </div>
                            <div class="ui-message error" [hidden]="!campoEmail.errors.uiMaxlength">Email não pode conter mais de 252 caracteres.
                            </div>
                        </div>
                        <div class="ui-message counter" [ngClass]="{'error': info.email && info.email.length > 252}">
                            {{info.email ? info.email.length : 0}}/252
                        </div>
                    </div>
                </ui-input-container>

                <div class="ui-fab-container">
                    <button class="ui-button accent fab" uiRipple>
                        <i class="material-icons">save</i>
                    </button>
                </div>
            </form>
        </ui-card-content>
    </ui-card>
</div>

<ui-menu #menuDelete>
    <div class="ui-menu-content size-2x">
        <ui-subheader>Deseja excluir?</ui-subheader>
        <div class="ui-menu-item" uiRipple (click)="confirmDelete()">
            Sim
        </div>
        <div class="ui-menu-item" uiRipple>
            Não
        </div>
    </div>
</ui-menu>